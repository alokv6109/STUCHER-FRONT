<!DOCTYPE html>
<html>
<!--************** HEADER START *********************-->

<head>
  <title>Login</title>
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <link rel="stylesheet" href="../css/style.css">
  <script src="../js/scrpt.js" type="text/javascript"></script>
</head>
<!--************** HEADER START *********************-->

<!--************** BODY START *********************-->

<body class="body-green" data-elink-extension-installed="1.1.5">

  <div class="wrapper body-inverse">
    <!-- wrapper -->
    <div class="container" ng-app="postApp" ng-controller="postController">
      <div class="row">
        <div class="page-header">
          <a href="http://www.nitdelhi.ac.in">
            <img src="../images/nit_delhi.png" alt="logo not available" class="img-responsive"></img>
          </a>
        </div>

        <div class="col-sm-5 col-sm-offset-3" style="border:5px solid lightgrey;">
          <h3 style="color:mediumseagreen; text-align:center;">Sign In to your account</h3>
          <p class="text-muted" style="text-align:center;">
            Please fill out the form below to login to your account.
            <div ng-show="showErrorLogin">{{errorLogin}}</div>
          </p>
          <div class="form-white">
            <form ng-submit="formdata()" name="form">
              <div class="form-group">
                <label style="margin-left: 15px">Username</label>
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="glyphicon glyphicon-user"></i>
                  </span>
                  <input type="text" class="form-control" id="login_id" placeholder="Roll no. or Email" name="login_id" ng-model="user.login_id">
                </div>
              </div>
              <div class="form-group">
                <label for="password" style="margin-left: 15px">Password</label>
                <a href="forgot_password" id="lost-btn" style="float:right;">Forgot password?</a>
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="glyphicon glyphicon-lock"></i>
                  </span>
                  <input type="password" class="form-control" id="password" placeholder="Password" name="password" ng-model="user.password">
                </div>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox"> Remember me
                </label>
              </div>
              <button type="submit" class="btn btn-block btn-color btn-xxl">Submit</button>
            </form>
            <hr>
            <center>New user?
              <a href="/newstudent" id="signup">Create new account</a>
            </center>
          </div>
        </div>

        <!--************** LOGIN FORM END *********************-->
    </div>
  </div>
  </div>
  <!-- / wrapper -->
  <script>
    var postApp = angular.module('postApp', []);
    postApp.controller('postController', function ($scope, $http) {
      $scope.user = {};
      $scope.formdata = function () {
        console.log("ghh");
        $http.post('/process_stud',$scope.use).then(function (response) {
         console.log(response);
         $scope.errorLogin = "wrong pass"; $scope.showErrorLogin = true;
         //save token to cookies
         //redirect
        })
        // $http({
        //   method: 'POST',
        //   url: '/process_stud',
        //   data: $scope.user,
        //   headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
        // }).success(function (data) {
        //   if (data.errors) {
        //     $scope.errorLogin = data.errors.login_id;
        //     $scope.errorPassword = data.errors.password;
        //   } else {
        //     $scope.message = "logged in successfully";
        //   }
        // });
      };
    });
  </script>

</body>
<!--************** BODY END *********************-->

</html>